---
title: 複雑さと設計のはなし
date: 2025-05-18
---

- ソフトウェアを簡単に作れるようになって、よりすごいシステムをより安価に作れるようになりたい
  - システムを作る人たちの願いである
  - 個人としても、事業会社としてもそう
    - 個人として
      - 楽しい、自己効力感
      - 良い職を得るのに効く
      - 実現したいことを実現できるようになる
    - 事業会社として
      - ユーザに価値を提供できるし、需要を独占できる
      - コストが小さいので色々できる、事業の試行錯誤ができる

- ソフトウェアを書くために必要な能力で支配的なのは、作るシステムがどんなものであるか（つまり設計）を理解する能力（つまり設計する能力）
  - ソフトウェアはどんなものを作るのかを明らかにすることが難しい
    - どんなものが欲しいかを表現できれば（つまり設計をアウトプットできれば）作れたも同然
      - 例えば僕は愚かなのでどんな感じに作ればいいかを作りながら考える
  - 既存のシステムを拡張する設計のためには、既存のシステムの理解を元に新しい拡張を理解する必要がある
  - 全く新しくソフトウェアを作ることはない
    - 例えばCLIツールを作る場合は、コマンドラインインターフェースとかファイルみたいな既存のシステムの上にソフトウェアを作ることになる

- 理解する対象となるソフトウェアを簡単にすれば、簡単にソフトウェアを作れるようになる
  - 理解を容易にするためには、理解する主体をとても賢くするか、理解する対象を簡単にすることが効く

- インクリメンタルなソフトウェア開発
  - 小さいシステム（の変更）を設計して作って、設計のミスを修正する
  - 小さいのでそもそも作るのが簡単だし、修正も簡単

- そういうインクリメンタルなアプローチを取るということは、設計が常に終わらないということ
  - 小さく刻めば良いというものではなくて、設計上の課題を常に検討して改善し続けないと単に局所性が落ちて非効率だろう

- ソフトウェアに単に機能を追加するのではなくて、シンプルさを保ったまま機能を追加することが必要
  - ソフトウェアは成長につれて複雑さが増す
    - つまりどのような姿にソフトウェアを変えればいいのかを理解することが難しくなっていく
    - 時間と労力がかかる
    - 誤解をすればバグが入る
  - 複雑さを抑えて、理解するのを簡単にしておけば良い。ソフトウェアが常にシンプルであれば、それを成長させるために何をすればいいかを理解するのは簡単で、よりすごいシステムをより安価に作れる
  - したがって、僕たちはソフトウェアを常にシンプルに保つことが必要

- 複雑さを減らすためのアプローチ
  - コードをシンプルに保つこと
  - 複雑性をカプセル化すること、モジュラデザインに基づいた設計を与えること
    - インターフェースを簡単にして複雑さを閉じ込めることで全体としての複雑さを下げること
      - 理解を容易に（したがって変更を容易に）する

- 次に僕たちがやるべきことは何か
  - 複雑さを理解すること
    - 複雑さとは何を意味するか
    - どんな問題があるのか
    - 設計しているときや作り込んだ後に、いかに不必要な複雑さを認知するか
  - 複雑さを減らす手法を身につけること
    - 先人の知恵を勉強すること
    - 開発を通じて練習すること
      - 人のコードをレビューするとき
      - 自分のコードをレビューしてもらったとき
